generator client {
  provider = "prisma-client-js"
  // output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  email String @unique
  hash  String

  firstName String? // ? means optional field
  lastName  String?

  bookmarks Bookmark[] // one to many relationship between user and bookmark

  @@map("users") // to rename the table in the database
}

model Bookmark {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  title       String
  description String?
  link        String

  // one to many relationship between user and bookmark
  userId Int
  user   User @relation(fields: [userId], references: [id], onDelete: Cascade) // references to id of user model.............cascade means if user is deleted all his bookmarks will be deleted

  @@map("bookmarks")
}
